<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventario</title>
</head>
<body>
    <script>
    //SIMULACION DE UN INVENTARIO

        //Estructura de datos --> inventario
        const inventario = new Map();

        inventario.set("Procesador", 2);
        inventario.set("Placa Base", 12);
        inventario.set("Tarjeta Gráfica", 8);
        inventario.set("Fuente Alimentación", 4);
        inventario.set("Memoria Ram", 16);

        function verInventario(inventario){
            inventario.forEach((cantidad, producto) => {
                console.log(`Producto: ${producto}`);
                console.log(`-Cantidad: ${cantidad}`);
            });
        }

        function verificarInventario(producto, cantidadPedido){
            return new Promise((resolve, reject)=>{
                console.log("Verificando inventario...")

                setTimeout(() => {
                    if (inventario.has(producto)) {
                        const cantidadDisponible = inventario.get(producto);
                        //console.log(`Producto encontrado: ${producto}`);
                        //console.log(`Cantidad disponible: ${cantidadDisponible}`);

                        if (cantidadPedido > cantidadDisponible) {
                            reject(`La cantidad solicitada (${cantidadPedido}) supera la cantidad disponible (${cantidadDisponible})`);
                        } else {
                            resolve(`Pedido aprobado para ${cantidadPedido} unidades de ${producto}`);
                        }
                    } else {
                        reject(`No existe el producto ${producto} en el inventario.`);
                    }
                }, 1000);
            })
        }

        const numCantidad = Math.random();
        verificarInventario("Placa Base", numCantidad);
    </script>
</body>
</html>
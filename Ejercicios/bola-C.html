<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Ball Collision</title>
</head>
<body>
    <canvas id="lienzo" width="500" height="400" style="border:1px solid #000;"></canvas>
    <script>
        var canvas = document.getElementById("lienzo");
        var ctx = canvas.getContext("2d");
        var bolaRadios = 10;

        // Posiciones iniciales
        var x1 = 100, y1 = 200, dx1 = 2, dy1 = 2;
        var x2 = 400, y2 = 200, dx2 = -2, dy2 = -2;

        function dibujarBola(x, y, color) {
            ctx.beginPath();
            ctx.arc(x, y, bolaRadios, 0, Math.PI * 2);
            ctx.fillStyle = color;
            ctx.fill();
            ctx.closePath();
        }

        function detectarColision() {
            var dx = x2 - x1;
            var dy = y2 - y1;
            var distancia = Math.sqrt(dx * dx + dy * dy);

            if (distancia <= bolaRadios * 2) {
                // Intercambiar velocidades simulando choque
                var tempDx = dx1;
                var tempDy = dy1;
                dx1 = dx2;
                dy1 = dy2;
                dx2 = tempDx;
                dy2 = tempDy;
            }
        }

        function movimiento() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            dibujarBola(x1, y1, "red");
            dibujarBola(x2, y2, "blue");

            detectarColision();

            // Rebotar en los bordes
            if (x1 + dx1 > canvas.width - bolaRadios || x1 + dx1 < bolaRadios) dx1 = -dx1;
            if (y1 + dy1 > canvas.height - bolaRadios || y1 + dy1 < bolaRadios) dy1 = -dy1;

            if (x2 + dx2 > canvas.width - bolaRadios || x2 + dx2 < bolaRadios) dx2 = -dx2;
            if (y2 + dy2 > canvas.height - bolaRadios || y2 + dy2 < bolaRadios) dy2 = -dy2;

            x1 += dx1;
            y1 += dy1;
            x2 += dx2;
            y2 += dy2;
        }

        setInterval(movimiento, 10);
    </script>
</body>
</html>
